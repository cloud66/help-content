---
title:  Service configuration options
---

## Overview 

Service configurations allow you to customize many aspects of a Cloud 66 services. These are defined in the `service.yml` file.  If you're unfamiliar with service configurations, please read our [introductory guide](/docs/build-and-config/docker-service-configuration) first. 

## Service configuration options

This is the complete list of all service configuration directives in both versions of Cloud 66. For more detailed information about an option, click the link provided.

<Tabs defaultValue="v2">
    <TabsList>
        <TabsTrigger value="v2">Cloud 66 Container Service V2</TabsTrigger>
        <TabsTrigger value="v1">Cloud 66 Container Service V1</TabsTrigger>
    </TabsList>
<TabsContent value="v2">
<Table >
|**Option**|**Description**|
|--- |--- |
|[annotations](/docs/build-and-config/service-tags-annotations#service-annotations)|Annotations for your services in key/value format - these will also become annotations on your Kubernetes resources|
|[build_command](/docs/build-and-config/building-your-service#build-command)|Specifies the command you would like to run during application build.|
|[build_root](/docs/build-and-config/building-your-service#build-root)|Specifies the directory of your repository in which you wish to run your Docker build.|
|[command](/docs/build-and-config/building-your-service#command)|Specifies the command used to start your container.|
|[constraints](/docs/build-and-config/service-resources)|Limits the [number of containers](/docs/build-and-config/service-resources#limiting-the-number-of-containers) or the [resource usage](/docs/build-and-config/service-resources) of a service across the cluster, or [allocates services to nodes](/docs/build-and-config/service-resources#allocating-services-to-nodes) based on names and/or tags.|
|constraints/tolerations|This is an optional hash for advanced configuration of [Kubernetes Tolerations](https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/).|
|[deploy_command](/docs/build-and-config/building-your-service#deploy-command)|Specifies the command you would like to run during application deploy (runs once per service).|
|[dns_behaviour](/docs/networking/service-networking#dns-behaviour)|Specifies the dns behaviour for this service. Accepted values: *versioned*, *non-versioned*. Defaults to *versioned*.|
|[dockerfile_path](/docs/build-and-config/building-your-service#dockerfile-path)|Specifies the location of the Dockerfile to be used for building this service, eg. *docker/Dockerfile*.|
|[git_url](/docs/build-and-config/building-your-service#git-url)|The URL for the Git repository from which your Docker image will be built.|
|[git_branch](/docs/build-and-config/building-your-service#git-branch)|The Git repository branch your Docker image will be based on.|
|[use_habitus](#using-habitus-for-builds)|Use [Habitus](https://www.habitus.io) build workflow|
|[use_habitus_step](#using-habitus-for-builds)|The [Habitus](https://www.habitus.io) step to use for the build.|
|[health](/docs/build-and-config/service-lifecycle-management#health)|One of the values: *default*, *none* or a hash. Use this to configure *Readiness*, *Liveness*, and *Startup* probes|
|[image](/docs/build-and-config/building-your-service#image)|The image you would typically run `docker pull` from.|
|[load_balancing](/docs/networking/service-networking#load-balancing)|Specifies the load balancing method for this service. Accepted values: *roundrobin*, *sticky*, *closest*. Default value is *roundrobin*|
|log_folder|Specify the folder on your container in which your services will save logs. This folder is mounted to `/var/log/containers/NAMESPACE/SERVICE_NAME` on the host filesystem. (more about [namespace and service name](/docs/build-and-config/connecting-between-containerized-services))|
|[ports](/docs/networking/service-networking)|The ports that are running within the container, as well as their corresponding external ports.|
|[post_start_command](/docs/build-and-config/service-lifecycle-management#pre-start-command)|This command runs immediately after a container is created.|
|[pre_stop_command](/docs/build-and-config/service-lifecycle-management#pre-stop-command)|This command runs immediately before a container is terminated.|
|[requires](/docs/build-and-config/service-lifecycle-management#requires)|Array of other defined service names that should be started before this service during build and deployment.|
|[restart_on_deploy](/docs/build-and-config/service-lifecycle-management#restart-on-deploy) *(default: true)*|Boolean value to indicate whether the containers of this service should be restarted during deployment.|
|security_context|This is an optional hash for advanced configuration of Kubernetes Security Context. Valid keys are: *fs_group, host_ipc, host_network, host_pid, privileged, run_as_group, run_as_non_root, run_as_user, supplemental_groups*.|
|[service_account_name](#setting-a-service-account-name)|Assigns the service to a specific Kubernetes Service Account. The default value is `default`|
|[stop_grace](/docs/build-and-config/service-lifecycle-management#stop-grace)|Duration between the Docker `TERM` and `KILL` signals when Docker stop is run and a container is stopped.|
|[traffic_matches](/docs/networking/service-networking#traffic-matching)|The automatically configured traffic names in your Nginx config that will route traffic to these containers based on request DNS name. Allows microservices on the same port routes by subdomain for instance.|
|[tags](/docs/build-and-config/service-tags-annotations)|Arbitrary text tags for your services - these will also become labels on your Kubernetes resources|
|type|Specifies the type of service being defined. Accepted values: `service`, `deployment`, `daemon_set`|
|[volumes](/docs/build-and-config/service-storage)|The volumes that are mounted from your host into your container. <Pill title="Note" color="red" /> Must use absolute paths.|
|work_dir|Specifies the [working directory](https://docs.docker.com/reference/builder#workdir) in your image for any command to be run.|
</Table>
</TabsContent>

<TabsContent value="v1">
<Table >
|**Option**|**Description**|
|--- |--- |
|[build_command](/docs/legacy/legacy-building-your-service-csv1)|Specifies the command you would like to run during application build.|
|[build_root](/docs/legacy/legacy-building-your-service-csv1)|Specifies the directory of your repository in which you wish to run your Docker build.|
|[command](/docs/legacy/legacy-building-your-service-csv1)|Specifies the command used to start your container.|
|[deploy_command](/docs/legacy/legacy-building-your-service-csv1)|Specifies the command you would like to run during application deploy (runs once per service).|
|[dns_behaviour](/docs/legacy/service-network-configuration#dns_behaviour)|Specifies the dns behaviour for this service. Accepted values: *versioned*, *non-versioned*. Defaults to *versioned*.|
|[dockerfile_path](/docs/legacy/legacy-building-your-service-csv1#dockerfile_path)|Specifies the location of the Dockerfile to be used for building this service, eg. *docker/Dockerfile*.|
|tags|Arbitrary tags for services|
|[git_url](/docs/legacy/legacy-building-your-service-csv1)|The URL for the Git repository from which your Docker image will be built.|
|[git_branch](/docs/legacy/legacy-building-your-service-csv1#git-branch)|The Git repository branch your Docker image will be based on.|
|[use_habitus](/docs/legacy/legacy-building-your-service-csv1#using-habitus-for-builds)|Use [Habitus](https://www.habitus.io) build workflow|
|[use_habitus_step](/docs/legacy/legacy-building-your-service-csv1#using-habitus-for-builds)|The [Habitus](https://www.habitus.io) step to use for the build.|
|[health](/docs/build-and-config/service-lifecycle-management#health)|One of the values: *default*, *none* or a hash containing at least one of *type*, *endpoint*, *protocol*, *accept* or *timeout*.|
|[image](/docs/legacy/legacy-building-your-service-csv1#image)|The image you would typically run `docker pull` from.|
|[load_balancing](/docs/legacy/service-network-configuration#load-balancing)|Specifies the load balancing method for this service. Accepted values: *roundrobin*, *sticky*, *closest*. Default value is *roundrobin*|
|log_folder|Folder your services logs to, mounted to `/var/log/containers/service` on the host filesystem.|
|[ports](/docs/legacy/service-network-configuration#ports)|The ports that are running within the container, as well as their corresponding external ports.|
|privileged *(default: false)*|Boolean value to indicate whether the container should be [run with extended privileges](https://docs.docker.com/engine/reference/run#runtime-privilege-and-linux-capabilities).|
|[requires](/docs/legacy/service-network-configuration#requires)|Array of other defined service names that should be started before this service during build and deployment.|
|[restart_on_deploy](/docs/legacy/service-network-configuration#restart) *(default: true)*|Boolean value to indicate whether the containers of this service should be restarted during deployment.|
|[stop_grace](/docs/legacy/service-network-configuration#stop_grace)|Duration between the Docker `TERM` and `KILL` signals when Docker stop is run and a container is stopped.|
|[traffic_matches](/docs/legacy/service-network-configuration#traffic_matches)|The automatically configured traffic names in your Nginx config that will route traffic to these containers based on request DNS name. Allows microservices on the same port routes by subdomain for instance.|
|volumes|Volumes mounted from host into container. Syntax: Array of absolute paths, with the format `HOST_FOLDER:CONTAINER_FOLDER`. Optional 'ro' on the end for read-only. e.g. `/tmp/host:/tmp/container:ro`|
|work_dir|Specifies the [working directory](https://docs.docker.com/reference/builder#workdir) in your image for any command to be run.|
</Table>
  
</TabsContent>
</Tabs>