---
title: Cloud 66 Toolbelt 
lead: "Reference guide for Cloud 66 Toolbelt commands"
products: 'all'
---

import BackupsListPartial from './_backups-list.mdx';
import BackupsDownloadPartial from './_backups-download.mdx';
import BackupsNewPartial from './_backups-new.mdx';
import ContainersListPartial from './_containers-list.mdx';
import ContainersAttachPartial from './_containers-attach.mdx';
import ContainersStopPartial from './_containers-stop.mdx';
import ContainersRestartPartial from './_containers-restart.mdx';
import DatabasesPromoteSlavePartial from './_databases-promote-slave.mdx';
import DatabasesResyncSlavePartial from './_databases-resync-slave.mdx';
import DownloadPartial from './_download.mdx';
import DumpTokenPartial from './_dump-token.mdx';
import EnvVarsListPartial from './_env-vars-list.mdx';
import EnvVarsDownloadPartial from './_env-vars-download.mdx';
import EnvVarsSetPartial from './_env-vars-set.mdx';
import EnvVarsUploadPartial from './_env-vars-upload.mdx';
import FailoverGroupsListPartial from './_failover-groups-list.mdx';
import FailoverGroupsAddPartial from './_failover-groups-add.mdx';
import FailoverGroupsDeletePartial from './_failover-groups-delete.mdx';
import FailoverGroupsUpdatePartial from './_failover-groups-update.mdx';
import GatewaysListPartial from './_gateways-list.mdx';
import GatewaysAddPartial from './_gateways-add.mdx';
import GatewaysClosePartial from './_gateways-close.mdx';
import GatewaysOpenPartial from './_gateways-open.mdx';
import GatewaysRemovePartial from './_gateways-remove.mdx';
import HelpPartial from './_help.mdx';
import InfoPartial from './_info.mdx';
import JobsListPartial from './_jobs-list.mdx';
import JobsRunPartial from './_jobs-run.mdx';
import LeasePartial from './_lease.mdx';
import LoginPartial from './_login.mdx';
import NotificationsDownloadPartial from './_notifications-download.mdx';
import NotificationsUploadPartial from './_notifications-upload.mdx';
import OpenPartial from './_open.mdx';
import ProcessesListPartial from './_processes-list.mdx';
import ProcessesPausePartial from './_processes-pause.mdx';
import ProcessesRestartPartial from './_processes-restart.mdx';
import ProcessesResumePartial from './_processes-resume.mdx';
import ProcessesScalePartial from './_processes-scale.mdx';
import RedeployPartial from './_redeploy.mdx';
import RegisterServerPartial from './_register-server.mdx';
import RunPartial from './_run.mdx';
import ServersListPartial from './_servers-list.mdx';
import ServersRebootPartial from './_servers-reboot.mdx';
import ServersSettingsListPartial from './_servers-settings-list.mdx';
import ServicesInfoPartial from './_services-info.mdx';
import ServicesListPartial from './_services-list.mdx';
import ServicesPausePartial from './_services-pause.mdx';
import ServicesRestartPartial from './_services-restart.mdx';
import ServicesResumePartial from './_services-resume.mdx';
import ServicesScalePartial from './_services-scale.mdx';
import ServicesStopPartial from './_services-stop.mdx';
import SettingsListPartial from './_settings-list.mdx';
import SettingsSetPartial from './_settings-set.mdx';
import SshPartial from './_ssh.mdx';
import SshConfigPartial from './_ssh_config.mdx';
import StacksClearCachesPartial from './_stacks-clear-caches.mdx';
import StacksConfigureDownloadPartial from './_stacks-configure-download.mdx';
import StacksConfigureListVersionsPartial from './_stacks-configure-list-versions.mdx';
import StacksConfigureUploadPartial from './_stacks-configure-upload.mdx';
import StacksConfigurationListPartial from './_stacks-configuration-list.mdx';
import StacksConfigurationApplyPartial from './_stacks-configuration-apply.mdx';
import StacksConfigurationDownloadPartial from './_stacks-configuration-download.mdx';
import StacksConfigurationUploadPartial from './_stacks-configuration-upload.mdx';
import StacksListPartial from './_stacks-list.mdx';
import StacksCreatePartial from './_stacks-create.mdx';
import StacksListenPartial from './_stacks-listen.mdx';
import StacksRebootPartial from './_stacks-reboot.mdx';
import StacksRestartPartial from './_stacks-restart.mdx';
import StacksSslPartial from './_stacks-ssl.mdx';
import TagsAddPartial from './_tags-add.mdx';
import TagsDeletePartial from './_tags-delete.mdx';
import TailPartial from './_tail.mdx';
import TestPartial from './_test.mdx';
import TunnelPartial from './_tunnel.mdx';
import UpdatePartial from './_update.mdx';
import UploadPartial from './_upload.mdx';
import UsersListPartial from './_users-list.mdx';
import UsersApplyProfilePartial from './_users-apply-profile.mdx';
import UsersShowPartial from './_users-show.mdx';


# Configuring Toolbelt

## Installation

1. Download the [cx executable](https://app.cloud66.com/toolbelt) to a directory in your PATH
2. Initialize it by running `cx stacks list`  
3. Authenticate using your browser

For more detailed help on installation please refer to our [Getting Started](/docs/toolbelt/using-cloud66-toolbelt) guide.

### Installing on a server (headless)

To install Toolbelt on a server (without a browser):

1. Install and authenticate `cx` on your local machine (see above)
2. Log into your server via your terminal and move to the `.cloud66` directory (under `home`) 
3. Create a file named `cx.json` in that folder
4. Go to the terminal on your local machine, where you already have Toolbelt authorised and execute `cx dump-token`, which will give you your authorisation token
5. Copy this token and paste it into the (remote) `cx.json` file that you created in Step 3
6. Save the file and then run `cx stacks list` on the server to confirm that Toolbelt is initialised

## Running Toolbelt inside a Docker container

You can run the Cloud 66 Toolbelt inside a Docker container, although this is not officially supported. 

#### Step 1: Start an ubuntu container

We start a generic Ubuntu container (Cloud 66 runs on Ubuntu servers) 

```shell
$ docker run -it ubuntu:latest /bin/bash
```

#### Step 2: Install required/useful tools

Toolbelt relies on three tools - curl, nano and ssh - so we install these packages.

```shell
$ apt update
```

```shell
$ apt install curl nano ssh -y
```

#### Step 3: Create some default folders

We need to create some default folders to support Toolbelt’s requirements.

```shell
$ mkdir -p ~/.ssh
```

```shell
$ mkdir -p ~/.cloud66
```

#### Step 4: Install Toolbelt

Now we install the Toolbelt by CURLing the installation shell script on S3:

```shell
$ curl -sSL https://s3.amazonaws.com/downloads.cloud66.com/cx_installation/cx_install.sh | bash
```

#### Step 5: Register Toolbelt

Finally we need to register Toolbelt:

1. Install and authenticate `cx` on your local machine
2. SSH into your container and move to the `.cloud66` directory (under `home`)
3. Create a file named `cx.json` in that folder
4. Go to the terminal on your local machine, where you already have Toolbelt authorised and execute `cx dump-token`, which will give you your authorisation token
5. Copy this token and paste it into the (container’s) `cx.json` file that you created in Step 3
6. Save the file and then run `cx stacks list` from inside the container to confirm that Toolbelt is initialised

After this, you should be able to use `cx` commands inside the container.

## Shortcuts

Toolbelt has some useful shortcuts to help speed up your workflow.

### Running cx in a git directory

To make life easier for you, the Cloud 66 toolbelt **detects the Git URL and branch for each directory it is run in**. As such, you won’t have to specify which application you want to run the toolbelt on if you’re in the git folder and branch of one of your applications.

### Naming shortcuts

We apply naming shortcuts to both application and server names, as well as server roles in the toolbelt, so you don’t have to type their full names. We just need you to type enough of a name for it to be unique. 

For example, if you only have one application that starts with *m*, you can simply type *m*. Similarly, if you only have one web server, you can type *w* instead of *web*

## Toolbelt commands

These commands are listed alphabetically by top level command name. 

### backups list
<BackupsListPartial />

### backups download
<BackupsDownloadPartial />

### backups new
<BackupsNewPartial />

### config
Allows you to configure multiple profiles in cx to support multiple Cloud 66 accounts.

### containers list
Alias: `container list`

<ContainersListPartial />

### containers attach
Alias: `container attach`

<ContainersAttachPartial />

### containers stop
Alias: `container stop`

<ContainersStopPartial />

### containers restart
Alias: `container restart`

<ContainersRestartPartial />

### databases promote-replica
Alias: `database promote-replica` 
Alias: `database promote-slave` (deprecated) 
Alias: `databases promote-slave` (deprecated)

<DatabasesPromoteSlavePartial />

### databases resync-replica
Alias: `database resync-replica` 
Alias: `database resync-slave` (deprecated) 
Alias: `databases resync-slave` (deprecated)

<DatabasesResyncSlavePartial />

### download

<DownloadPartial />

### dump-token

<DumpTokenPartial />

### env-vars list

<EnvVarsListPartial />

### env-vars download

<EnvVarsDownloadPartial />

### env-vars set

<EnvVarsSetPartial />

### env-vars upload

<EnvVarsUploadPartial />

### failover-groups list
<FailoverGroupsListPartial />

### failover-groups add
<FailoverGroupsAddPartial />

### failover-groups delete
<FailoverGroupsDeletePartial />

### failover-groups update
<FailoverGroupsUpdatePartial />

<PerProduct includes={["rails"]}>
### gateways list

<GatewaysListPartial />

### gateways add

<GatewaysAddPartial />

### gateways close

<GatewaysClosePartial />

### gateways open

<GatewaysOpenPartial />

### gateways remove

<GatewaysRemovePartial />
</PerProduct>
### help

<HelpPartial />

### info

<InfoPartial />

### init
Initializes the Toolbelt.

### init agent
Initializes the Toolbelt as a standalone (headless) agent.

### jobs list
Alias: `job list`

<JobsListPartial />

### jobs run
Alias: `job run`

<JobsRunPartial />

### lease

<LeasePartial />

### login

<LoginPartial />

### notifications download

<NotificationsDownloadPartial />

### notifications upload

<NotificationsUploadPartial />

### open

<OpenPartial />

### processes list
Alias: `process list`

<ProcessesListPartial />

### processes pause
Alias: `process pause`

<ProcessesPausePartial />

### processes restart
Alias: `process restart`

<ProcessesRestartPartial />

### processes resume
Alias: `process resume`

<ProcessesResumePartial />

### processes scale
Alias: `process scale`

<ProcessesScalePartial />

### redeploy
Alias: `stacks redeploy`

<RedeployPartial />

### register-server

<RegisterServerPartial />

### run

<RunPartial />

### servers list
Alias: `server list`

<ServersListPartial />

### servers reboot
Alias: `server reboot`

<ServersRebootPartial />

### servers settings list
Alias: `server settings list`

<ServersSettingsListPartial />

### services info
Alias: `service info`

<ServicesInfoPartial />

### services list
Alias: `service list`

<ServicesListPartial />

### services pause
Alias: `service pause`

<ServicesPausePartial />

### services restart
Alias: `service restart`

<ServicesRestartPartial />

### services resume
Alias: `service resume`

<ServicesResumePartial />

### services scale
Alias: `service scale`

<ServicesScalePartial />

### services stop
Alias: `service stop`

<ServicesStopPartial />

### settings list
Alias: `setting list`

<SettingsListPartial />

### settings set
Alias: `setting set`

<SettingsSetPartial />


### ssh

<SshPartial />

### ssh-config

<SshConfigPartial />

### stacks clear-caches
Alias: `stack clear-caches`

<StacksClearCachesPartial />

### stacks configure download
Alias: `stack configure download`

<StacksConfigureDownloadPartial />

### stacks configure list-versions
Alias: `stack configure list-versions`

<StacksConfigureListVersionsPartial />

### stacks configure upload
Alias: `stack configure upload`

<StacksConfigureUploadPartial />

### stacks configuration list
Alias: `stack configuration list`

<StacksConfigurationListPartial />

### stacks configuration apply
Alias: `stack configuration apply`

<StacksConfigurationApplyPartial />

### stacks configuration download
Alias: `stack configuration download`

<StacksConfigurationDownloadPartial />

### stacks configuration upload
Alias: `stack configuration upload`

<StacksConfigurationUploadPartial />

### stacks list
Alias: `stack list`

<StacksListPartial />

### stacks create
Alias: `stack create`

<StacksCreatePartial />

### stacks listen
Alias: `stack listen`

<StacksListenPartial />

### stacks reboot
Alias: `stack reboot`

<StacksRebootPartial />

### stacks redeploy
Alias: `stack redeploy`

Triggers the deployment of an application. Alias of `redeploy` function.

### stacks restart
Alias: `stack restart`

<StacksRestartPartial />

### stacks ssl
Alias: `stack ssl`

<StacksSslPartial />

### tags add

<TagsAddPartial />

### tags delete

<TagsDeletePartial />

### tail

<TailPartial />

### test

<TestPartial />

### tunnel

<TunnelPartial />

### update

<UpdatePartial />

### upload

<UploadPartial />

### users list

<UsersListPartial />

### users apply-profile

<UsersApplyProfilePartial />

### users show

<UsersShowPartial />

## Configuration profile commands

You can configure your Toolbelt to work with multiple Cloud 66 accounts and/or organizations using configuration profiles.

### config create

Creates a new configuration profile

```shell
$ cx config create <name> [--org <org name>]
```
### config use

Switches to using the named configuration profile.

```shell
$ cx config use <name>
```

### config rename

Renames an existing configuration profile.

```shell
$ cx config rename <old name> <new name>
```

### config delete

Delete a configuration profile.

```shell
$ cx config delete <name>
```

### config list

Lists all your configuration profiles.

```shell
$ cx config list
```

### config show

Show the details for a profile

```shell
$ cx config show <name>
```

### config update

Set a configuration profile to point to an organization.

```shell
cx config update NAME [--org <org name>]
```

## Setting up a profile:

1. Run `cx config create <name>` where `<name>` is your chosen profile name
2. Run `cx config use <name>` to switch to the new profile and initialize it by running  `cx stacks list` 
3. Authenticate using your browser (be sure to log into the correct account)

For more detailed help on installation please refer to our [Getting Started](/docs/toolbelt/using-cloud66-toolbelt) guide.

<Callout type="info" title="Default profile">
You always have a `default` profile which cannot be deleted or renamed. 
</Callout>

## Switching between profiles

To switch between profiles, use `cx config use <name>`

All commands from that point onwards will run against the `<name>` profile. This is persisted between different terminal sessions until it's changed.

### Setting Profile per command

If you would like to run a command with a different profile other than the current profile, you can use the `--profile` argument with all commands:

```shell
cx --profile NAME stacks list
```

### Using profiles with organizations

When you create a profile you can specify the organization to which this new profile should be linked. For example:

```shell
cx config create hobby --org my_private_sandbox
```

...will create a profile named "hobby" that is linked to a Cloud 66 organization named "my_private_sandbox".

If you're unsure about the name of an organization you can run the `cx info` command and looking at the `Name` field. You can also see this by logging into your Dashboard, visiting Account Settings and clicking on Organisations in the Account panel on the left. 

